<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
	<meta name="generator" content="Hugo 0.102.3" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      discrete blogarithm &middot; 
    
  </title>

  
  <link rel="stylesheet" href="https://blog.azuki.vip/css/poole.css">
  <link rel="stylesheet" href="https://blog.azuki.vip/css/syntax.css">
  <link rel="stylesheet" href="https://blog.azuki.vip/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://blog.azuki.vip/assets/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://blog.azuki.vip/assets/favicon.ico">

  
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.azuki.vip/atom.xml">
</head>


  <body>

    
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>
      yan&rsquo;s blog
    </p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item  active " href="https://blog.azuki.vip/">Home</a>
    <a class="sidebar-nav-item " href="https://blog.azuki.vip/post">Posts</a>
    <a class="sidebar-nav-item " href="https://blog.azuki.vip/about/">About</a>
      </nav>

  <div class="sidebar-item">
    <p>&copy; 2022. All rights reserved.</p>
  </div>
</div>


    
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://blog.azuki.vip/" title="Home">discrete blogarithm</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">





<div class="posts">
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/one-year-later/">One year later</a></h1>
        <span class="post-date">Nov 28, 2013</span>
        <p>One year ago, I started writing again out of panic. Humans are very adept at forgetting the feeling of panic, so the act of crystallizing it in sentences can be cathartic if you write slowly enough.</p>
<p>Last November was a weird and difficult time for me. I remember spending the night of the twenty-third in a friend‚Äôs childhood bedroom overlooking the idyllic frost-laced meadows of suburban Pennsylvania, wrapped in the mansion of an unfamiliar family that had adopted me for Thanksgiving. It was cold and late and Thanksgiving-y, in a way that amplifies certain negative thoughts about the hollowness of growing up and becoming something. I think I was at a point where those kinds of thoughts made me feel like I had swallowed one or two hummingbirds stuffed with bees stuffed with amphetamine. It was a little uncomfortable, so I stayed up all night and wrote about it.</p>
<p>That was the night I decided that I would take a leave of absence from grad school at Stanford and spend a year doing as many different jobs as I could <a href="https://zyan.scripts.mit.edu/blog/goodbye-cambridge/">1</a>. If I couldn‚Äôt find a job that I was genuinely excited about by 11/23/2013, I would go back to getting a PhD in Physics.</p>
<p><a href="https://zyan.scripts.mit.edu/blog/goodbye-cambridge/">1</a> For the record, I held a total of 4 paid jobs and 1.5 unpaid ones during that time.</p>
<p>=====</p>
<p>To be honest, it kind of sucked at first. I did an apt job of writing about it back in <a href="https://zyan.scripts.mit.edu/blog/why-i-left-grad-school/" target="_blank">January</a>.</p>
<blockquote>
<p>The last month or so has been full of stress, disappointment, and self-doubt, the pains of a transition to life without externally-imposed structure.</p>
</blockquote>
<p>Life without structure in the form of school or employment was terrifying at first. I found it difficult to concentrate on reading. Most days I felt like I was losing in some form or another. My patterns of learning were slow and frustrating, and I started to doubt whether I was capable of accomplishing anything on my own. That‚Äôs a really horrifying doubt to have about yourself, and I interpreted it as a sign to go rearrange some psychological furniture (not literal furniture, but only because I was couchsurfing at the time and had none).</p>
<p>A couple days after that frankly-depressing blog post, I moved into my first San Francisco apartment and got my first post-graduation job: an internship that had some good moments (getting the company‚Äôs IP blocked from Google a couple times) but mostly involved me feeling less like a human and more like a training set for advanced machine learning algorithms with each passing day.</p>
<p>My second job was better. I got to write software.</p>
<p>=====</p>
<p>Winter passed into spring. I was getting close to 22. Sometimes I would run down Folsom St. all the way to the ocean, amazed that there was still light out at 7 pm. San Francisco in the dimming sunset is full of rushing cars, discarded coffee cups, and people eating salads. My bike was falling apart.</p>
<p>Ever since quitting grad school, I‚Äôd been getting good at leaving things behind: jobs, roommates, feelings of attachment to any particular time or place. Part of it was just that I had high standards for who I wanted to become.</p>
<p>San Francisco didn‚Äôt quite fit anymore, so I packed a backpack and got on a one-way flight to <a href="https://zyan.scripts.mit.edu/blog/goodbye-cambridge/">Boston</a>.</p>
<p>=====</p>
<p>Once I started travelling, it was hard to stop. The crinkled packaging of snack food at a gas station convenience store is basically equivalent to the wrapping that airlines put around cheap disposable pillows. Both are addictive because they remind you of the miles you have to go.</p>
<p>I did this: Boston -&gt; Delaware -&gt; Pittsburg -&gt; Boston -&gt; Austin -&gt; <a href="https://zyan.scripts.mit.edu/blog/marfa-tx/">Marfa, TX</a> -&gt; El Paso -&gt; Joshua Tree -&gt; LA -&gt; Big Sur -&gt; SF -&gt; Seattle -&gt; SF -&gt; a tiny <a href="https://zyan.scripts.mit.edu/blog/quest-ce-que-le-fuck/">village</a> in France -&gt; Amsterdam -&gt; SF</p>
<p>=====</p>
<p>Things got better once I returned to SF. I was interning for EFF over the summer and loved the atmosphere and the people there enough to stay put. I didn‚Äôt have a place to live anymore in SF, so I didn‚Äôt sleep in the same place two nights in a row for over a month.</p>
<p>=====</p>
<p>Computer security and encryption became intensely fascinating. I didn‚Äôt know much to start with, so I read aggressively on subways. My interest probably came partially from my hatred of power imbalances, especially invisible ones. A lot of power belongs to those who made security decisions about software, and those decisions are hardly transparent in most cases.</p>
<p>This seems wrong to me.</p>
<p>Side note: Designing an account management system for a website teaches you that code is supplanting many of the historical functions of legal frameworks. You‚Äôd think that would mean that people would write tests.</p>
<p>=====</p>
<p>I was in Berlin for the first time last week. It was drizzling near-freezing Berlin rain for eight days before a thumbprint of blue pressed through the clouds, but none of that matters when you‚Äôre jetlagged and ducking through graffiti-lined streets asking drug dealers where to get a sandwich at 3 AM.</p>
<p>It was in a corner of a dimly-lit Indian restaurant in Kreuzberg one night that I got an email from <a href="https://eff.org">EFF</a>. It said, thanks for pointing out Google‚Äôs <a href="https://zyan.scripts.mit.edu/blog/debunking-googles-hsts-claims/">HSTS bug</a>. Also we‚Äôd like to offer you a job as a full-time technologist.</p>
<p>The next day was November twenty-third, exactly one year after I promised myself exactly one year to find a job that I was excited about.</p>
<p>======</p>
<p>I‚Äôm proud to announce that I accepted EFF‚Äôs offer today and will be starting work there as a staff technologist after Thanksgiving. It‚Äôs been a long and challenging year, but I can‚Äôt wait to see where it goes next.</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/debunking-googles-hsts-claims/">Debunking Google‚Äôs HSTS claims</a></h1>
        <span class="post-date">Nov 22, 2013</span>
        <p><strong>**Disclaimer**</strong>: This post was published before I started working at EFF, hence some stylistic mistakes (calling it ‚Äúthe EFF‚Äù rather than just ‚ÄúEFF‚Äù) are excusable and left uncorrected. üôÇ</p>
<p>Two days ago, the EFF published a report tiled, ‚Äú<a href="https://www.eff.org/deeplinks/2013/11/encrypt-web-report-whos-doing-what">Encrypt the Web Report: Who‚Äôs Doing What</a>.‚Äù The report included a chart that rated several large web companies on how well they were protecting user privacy via recommended encryption practices for data in transit. The five ranking categories were basic HTTPS support for web services, encryption of data between data centers, STARTTLS for opportunistic email encryption, support for SSL with perfect forward secrecy, and support for HTTP Strict Transport Security (HSTS). It looks like this:</p>
<img class="alignnone" alt="" src="https://www.eff.org/files/2013/11/19/crypto-survey-graphic.png" width="666" height="1158" />
<p>By most measures, this is an amazing chart: it‚Äôs easy to understand, seems technically correct, and is tailored to address the public‚Äôs concerns about what companies are doing to protect people from the NSA. On the other hand, I don‚Äôt like it much. Here‚Äôs why:</p>
<p>The first problem with the report is that it inadequately explains the basis for each score. For instance, what does a green check in the ‚ÄúHTTPS‚Äù category mean? Does it mean that the company is encrypting <em>all</em> web traffic, or just web traffic for logins and sensitive information? Sonic.net certainly got a green check in that category, yet you can check that going to <a href="http://sonic.net">http://sonic.net</a> doesn‚Äôt even redirect you to HTTPS. Amazon got a red square that says ‚Äúlimited‚Äù, but they seem to encrypt login and payment credentials just fine.</p>
<p>The second problem is that the report lacks transparency on how its data was acquired. It states, ‚ÄúThe information in this chart comes from several sources; the companies who responded to our survey questions; information we have determined by independently examining the listed websites and services and <a href="https://www.facebook.com/notes/facebook-engineering/secure-browsing-by-defa%20ult/10151590414803920">published</a> <a href="http://arstechnica.com/security/2013/11/we-still-dont-encrypt-server-to-server-data-admits-microsoft/">reports</a>.‚Äù Does that mean the EFF sent a survey to a bunch of companies that asked them to check which boxes they thought that they fulfilled? Could we at least see the survey? Also, was each claim independently verified, or did the EFF just trust the companies that responded to the survey?</p>
<p>I looked at the chart for a while, re-read the text a couple times, and remained unconvinced that I should go ahead and share it with all my friends. After all, there is no greater crime than encouraging ordinary people to believe whatever large companies claim about their security practices. That just leads to less autonomy for the average user and more headaches for the average security engineer. So I decided to take a look at the HSTS category to see whether I could verify the chart myself.</p>
<p>For those who are unfamiliar, when a website says that they support HSTS, they generally mean that they send a special ‚Äú<strong>Strict-Transport Security</strong>‚Äù header with all HTTPS responses. This header tells your browser to only contact the website over HTTPS (a secure, encrypted protocol) for a certain length of time, preferably on the order of weeks or months. This is better than simply redirecting a user to HTTPS when they try to contact the site over HTTP <a href="https://www.eff.org/deeplinks/2013/11/encrypt-web-report-whos-doing-what">1</a>, because that initial HTTP request can get intercepted by a malicious attacker. By refusing to send the HTTP request at all and only sending the HTTPS version of it, your browser protects you from someone sending you forged HTTPS data after they‚Äôve intercepted the HTTP request.</p>
<p><a href="https://www.eff.org/deeplinks/2013/11/encrypt-web-report-whos-doing-what">1</a> HTTP traffic can be trivially read by anyone who intercepts those packets, so you should watch out for passwords, cookies, and other sensitive data sent over HTTP. I wrote a post a while back showing how easy it is <a href="https://zyan.scripts.mit.edu/blog/summertime-and-the-http-traffic-sniffing-is-easy/">to sniff HTTP traffic with your laptop</a>.</p>
<p>(HSTS is a good idea, and all servers that support HTTPS should implement it.</p>
<p>If you decide to stop supporting HTTPS, you can just send an HSTS header with ‚Äúmax-age=0.‚Äù)</p>
<p>But HSTS still has a problem, which is that the first time a user ever contacts a website, they‚Äôll most likely do it over HTTP since they haven‚Äôt received the HSTS header from the site yet! The Chromium browser tried to solve this problem by coming with an <strong>HSTS Preload List</strong>, which is an ever-growing <a href="http://src.chromium.org/viewvc/chrome/trunk/src/net/http/transport_security_state_static.json">preloaded list of sites</a> that want users to contact them over HTTPS the first time. Firefox, Chrome, and Chromium all come shipped with this list. (Fun note: <a href="https://eff.org/https-everywhere">HTTPS Everywhere</a>, the browser extension by the EFF that I worked on, is basically a gigantic HSTS preload list of 7000+ domains. The difference is that the HTTPS Everywhere list doesn‚Äôt come with every browser, since it‚Äôs much less stable, so you have to install it as an extension.)</p>
<p>Anyway, let‚Äôs see if Google‚Äôs main search supports HSTS. To check, open up a browser and type in ‚Äúhttp://google.com.‚Äù If it supports HSTS, the HTTP request never returns a status code. If it doesn‚Äôt support HSTS, the HTTP request returns a 302-redirect to HTTPS.</p>
<p>Results, examined in Firefox 25 with Firebug:</p>
<p><a href="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-014230.png"><img class="alignnone size-full wp-image-232" alt="Screenshot from 2013-11-20 01:42:30" src="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-014230.png" width="980" height="629" srcset="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-014230.png 980w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-014230-300x192.png 300w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-014230-624x400.png 624w" sizes="(max-width: 980px) 100vw, 980px" /></a></p>
<p>Nope! As you can see, the HTTP request completes. As it does that, it leaks our search query (‚Äúhow to use tor‚Äù) and some of our preference cookies to the world.</p>
<p>The request then 302-redirects to HTTPS, as expected, but that HTTPS request doesn‚Äôt contain an HSTS header at all. So there‚Äôs no way that Google main search supports HSTS, at least in Firefox.</p>
<p>I was puzzled. Why would Google refuse to send the HSTS header, even though they support HTTPS pretty much everywhere, definitely on their main site? I did a bit more searching and concluded that it was because they <em>deliberately send ad clicks over plain HTTP</em>.</p>
<p>To prove this to yourself, do a Google search that returns some ads: for instance, ‚Äúwhere to buy ukuleles.‚Äù If you open up Firebug‚Äôs page inspector and look at the link for the ad, which supposedly goes to a ukulele retail site, you‚Äôll see a secret hidden link that you hit when you click on the ad! That link goes to ‚Äúhttp://google.com/aclk?some_parameters=etc,‚Äù and you can conclude that Google wants you to click on that HTTP link because they put it in the DOM exactly where you‚Äôd want to click on it anyway.</p>
<p><a href="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-021844.png"><img class="alignnone size-full wp-image-233" alt="Screenshot from 2013-11-20 02:18:44" src="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-021844.png" width="738" height="616" srcset="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-021844.png 738w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-021844-300x250.png 300w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-021844-624x520.png 624w" sizes="(max-width: 738px) 100vw, 738px" /></a></p>
<p>Let‚Äôs click on that ukulele link. Yep, we end up redirected to <a href="http://googleadservices.com">http://googleadservices.com</a> (plain HTTP again), which leaks our referer. That means the site that posted the ad as well as the NSA and anyone sniffing traffic at your local coffeeshop can see what ads you‚Äôre looking at and what you were searching for when you clicked on them.<a href="http://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-022212.png"><img class="alignnone size-full wp-image-235" alt="Screenshot from 2013-11-20 02:22:12" src="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-022212.png" width="1297" height="502" srcset="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-022212.png 1297w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-022212-300x116.png 300w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-022212-1024x396.png 1024w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-20-022212-624x241.png 624w" sizes="(max-width: 1297px) 100vw, 1297px" /></a></p>
<p>This is presumably the reason that Google.com doesn‚Äôt send the HSTS header and isn‚Äôt on the HSTS preload list. But wait, there‚Äôs plenty of Google domains that are in fact on the preload list, like mail.google.com, encrypted.google.com, accounts.google.com, security.google.com, and wallet.google.com. Don‚Äôt they send the HSTS header?</p>
<p>I checked in Firefox, and none of them did except for accounts.google.com. The rest all 302-redirect to HTTPS, just like any HTTPS site that doesn‚Äôt support HSTS.</p>
<p>Then I did a bit more reading and found out that HSTS preloads were <a href="https://wiki.mozilla.org/Privacy/Features/HSTS_Preload_List">implemented</a> such that Firefox ignored any site on the preload list that didn‚Äôt send a valid HSTS header with an expiration time greater than 18 weeks. This seems like a valid design choice. Why would a site want to be on the preload list but not support HSTS at all for people with non-Firefox/Chrome/Chromium browsers? And if they don‚Äôt send the header in the first place, how do we know when the site stops supporting HSTS?</p>
<p>Given that Google doesn‚Äôt really provide the benefits of HSTS to any browsers except Chrom{e, ium}, it‚Äôs hard to argue that it deserves the green check mark in the HSTS category. The moral of the story is that the EFF is awesome, but having a healthy mistrust of what companies claim is even more awesome.</p>
<p>=====</p>
<p><em>[IMPORTANT EDIT (11/23/13): The following originally appeared in this post, but I‚Äôve removed it because it turns out I was accidentally using a version of Chrome that didn‚Äôt have the HSTS preloads that I was testing for anyway. Thanks to Chris Palmer for pointing out that Chrome 23 is a year old at this point, and apologies to everyone for my error.]</em></p>
<p><em><del datetime="2013-11-23T06:02:07+00:00">Alright, so I had to also check whether Chrome respected the preload list even for sites that didn‚Äôt send the header. To be extra careful, I did this by packet-sniffing my laptop‚Äôs traffic on port 80 (HTTP) with tshark rather than examining requests with Chrome developer tools. The relevant command on a wifi network, for anyone who‚Äôs curious, is:</del></em></p>
<p><code>tshark -p port 80 -i wlan0 -T fields -e http.request.method -e http.request.full_uri -e http.user_agent -e http.cookie -e http.referer -e http.set-cookie -e http.location -E separator=, -E quote=d</code></p>
<p><em><del datetime="2013-11-23T06:20:04+00:00">Let‚Äôs try <a href="http://wallet.google.com">http://wallet.google.com</a>. Yep, we leak HTTP traffic. (It then redirects to <a href="https://accounts.google.com">https://accounts.google.com</a> because I haven‚Äôt logged in to Wallet yet.)</del></em></p>
<p><a href="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-013821.png"><img class="alignnone size-full wp-image-237" alt="Screenshot from 2013-11-22 01:38:21" src="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-013821.png" width="1366" height="713" srcset="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-013821.png 1366w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-013821-300x156.png 300w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-013821-1024x534.png 1024w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-013821-624x325.png 624w" sizes="(max-width: 1366px) 100vw, 1366px" /></a></p>
<p><em><del datetime="2013-11-23T06:02:07+00:00">How about <a href="http://security.google.com">http://security.google.com</a>? Yep, we leak HTTP traffic there too.<br /> </del></em></p>
<p><a href="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-014011.png"><img class="alignnone size-full wp-image-238" alt="Screenshot from 2013-11-22 01:40:11" src="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-014011.png" width="1366" height="768" srcset="https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-014011.png 1366w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-014011-300x168.png 300w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-014011-1024x575.png 1024w, https://zyan.scripts.mit.edu/blog/wp-content/uploads/2013/11/Screenshot-from-2013-11-22-014011-624x350.png 624w" sizes="(max-width: 1366px) 100vw, 1366px" /></a></p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/passwords-user-models-and-adobes-mistake/">Passwords, user models, and Adobe‚Äôs mistake</a></h1>
        <span class="post-date">Nov 4, 2013</span>
        <p><span class="userContent">The following is a phenomenal story for illustrating how real-life cybersecurity disasters come from a combination of technical and social failures. In this case, both were necessary for making things as catastrophic as they were.</span></p>
<p>A couple <span class="text_exposed_show">days ago, it was <a href="http://arstechnica.com/security/2013/11/how-an-epic-blunder-by-adobe-could-strengthen-hand-of-password-crackers/">announced</a> that 130 million Adobe account credentials were compromised by a cyberattack. (If you are an Adobe customer, please make sure you‚Äôve changed your password on any account that shared the same password.) There‚Äôs been a file circulating around the Internet that contains the email address, encrypted password, and unencrypted password hint for all these accounts. It‚Äôs not too hard to find.</span></p>
<p>The first interesting thing we learned from this file is that Adobe didn‚Äôt salt and hash their passwords before storing. Instead, they used a well-known symmetric encryption algorithm (3DES, ECB-mode) with the same secret key for every account. Even without knowing the secret key, it‚Äôs not hard to recover plaintext passwords with high confidence using basic statistics. Simple example: The encrypted password that appears most often in the dataset is probably going to decipher to ‚Äú123456‚Äù or ‚Äúpassword‚Äù. For this particular dataset, knowing that alone gives you the password for 2+ million accounts. (I‚Äôll explain how you can avoid statistical attacks like this one by salting/hashing in a footnote below.)</p>
<p>The other interesting part is the password hints. A staggering number of people have password hints that are literally, ‚Äúpwd is 123456‚Äù, which helps confirm some of the password guesses that we can make by statistical analysis. My friend Nick Semenkovich posted <a href="http://nick.semenkovich.com/adobe-breach-sanitized.csv.gz">a sanitized version of the full user dataset</a> (.gz, 1.1G) with emails redacted, which I filtered into a much shorter list of 8262 <a href="http://web.mit.edu/zyan/Public/adobe_sanitized_passwords_with_bad_hints.txt" target="_blank">lines-that-might-contain-the-actual-plaintext-password</a> using grep -Ei ‚Äò\s+(password|pwd?)\s*(is|==?|:)‚Äô.</p>
<p>If you take a look at the list, you‚Äôll see an astonishing number of password hints that either seem to give the actual password or say something like, ‚ÄúPassword is the same as for Gmail.‚Äù The latter is especially bad because if your password is fairly common, I can probably figure it out from statistical analysis and then login to your email account.</p>
<p>Essentially, this is a situation where if <strong>EITHER</strong> Adobe engineers implemented secure password and password hint obfuscation <strong>OR</strong> every Adobe user created perfectly random passwords and secure password hints (== probably no hint at all), things would be mostly okay despite the database breach.</p>
<p>I don‚Äôt want to be presumptuous about why Adobe didn‚Äôt follow recommended password storage protocols, but it seems that the twofold lesson here is that engineers need to have a realistic user model and users need to have less trust in engineers to protect them.</p>
<p>====</p>
<p>A quick primer on salting and hashing passwords:</p>
<p><span data-ft="{&quot;tn&quot;:&quot;K&quot;}" data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3]"><span data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0]"><span data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[0]">Hashing for password storage is a pretty magical thing. Unlike encryption (which is an invertible function once you have the secret key), usually the only way to get the input to a secure hash function (aka: the user password) from the output (aka: the password ciphertext) is to brute-force. Hash functions are at least half-magical because similar inputs get mapped to completely different outputs except by coincidence. </span><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[1]" /><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[2]" /><span data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[3]">If all the users of your website had completely random passwords all the time, you could feel free to post the hashes of their passwords publicly as long as you trusted the hash function, because there‚Äôs no easy way to undo a secure hashing process. Something like bcrypt or scrypt with a high work factor.</span><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[4]" /><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[5]" /><span data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[6]">The problem is that humans tend to reuse strings exactly for passwords, so if we get a database dump we can do statistical deductions and grab the nearest table of precomputed hashes for common strings. So we need adjust our user model from ‚Äúpeople who make perfectly random passwords‚Äù to ‚Äúpeople who might just use ‚Äòpassword‚Äô.‚Äù </span><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[7]" /><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[8]" /><span data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[9]">Then the solution is pretty simple: we just generate a random string for each user when they make their password (a ‚Äúsalt‚Äù) and append/prepend the salt to their password before hashing. We have to store the salt in our database alongside each user‚Äôs salted-hashed password, but that‚Äôs fine because it reveals no information about the plaintext password.</span><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[10]" /><br data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[11]" /><span data-reactid=".r[2p3mo].[1][4][1]{comment10201186249720872_5217673}.[0].{right}.[0].{left}.[0].[0].[0][3].[0].[12]">Note that you should never use the same salt for multiple users; otherwise you end up in basically the same situation as Adobe when someone gets your password database dump.<br /> </span></span></span></p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/thoughts-on-cypherpunks-2-0/">Thoughts on Cypherpunks 2.0</a></h1>
        <span class="post-date">Oct 13, 2013</span>
        <p>This is a post about fear. It‚Äôs easy to write about things that everyone says they are afraid of, but less so about nightmares that you suspect might just be your own. The latter is much more distressing and also easier to push out of the way. I‚Äôll try to elaborate on something that has been in the back of my mind.</p>
<p>Last night, I went to a talk by my friend <a href="https://twitter.com/eqe" target="_blank">Andy</a> titled, ‚Äú<a href="http://adi.is/s/cpunk20/#1" target="_blank">Cypherpunks 2.0</a>.‚Äù Andy thinks that there‚Äôs been two major waves of activity in the <a href="http://en.wikipedia.org/wiki/Cypherpunk#Main_principles" target="_blank">cypherpunk</a> movement: the one that peaked in the 90s and put technologies like PGP, SSL, OTR, and Tor in the hands of ordinary people (at least in the U.S.); and the one that started this summer in response to the Snowden leaks.</p>
<p>Andy is hopeful. He points out that Cypherpunks 2.0 has dozens of active crypto and techno-activism mailing lists, as well as IRL meetups like Techno-Activism Third Mondays, CCC, and Cryptoparty. On the technology front, we‚Äôre watching projects like Tahoe-LAFS, CryptoCat, Whonix, and Tails become what John Gilmore referred to as the physics and mathematics that guarantees a fair society when legal systems are insufficient (as they typically are).</p>
<p>There was a slide in Andy‚Äôs talk that really stuck with everyone in the audience. It read:</p>
<blockquote>
<p>[Cypherpunks 1.0] ‚ÄúLook at this utopia we can build, using cryptography!‚Äù</p>
<p>[Cypherpunks 2.0] ‚ÄúLook at this dystopia we have built, using cryptography!‚Äù</p>
</blockquote>
<p>And yes, Cypherpunks 2.0 feels less like a revolution for utopia through free cryptography and more like an arms race against Orwellian governments that fundamentally disagree with us on whether privacy is a human right. Cypherpunks today don‚Äôt talk about winning, for the most part. We talk about staying above water. We say that the best we can do is to make mass surveillance both illegal and extremely difficult through maximal use of end-to-end encryption. We‚Äôre doing the best we can to prevent and protect people from the hells of targeted surveillance if they are ever so unlucky, but it‚Äôs hard to make promises when you don‚Äôt know if your adversary model is close to realistic.</p>
<p>Last night, I realized that every article I had read about the Snowden leaks either implicitly or explicitly suggested that we should be afraid, because the Orwellian dystopia is already here. Everyone is being watched all the time. Our crypto abilities are decades behind those of the government. Free societies cannot exist in such a state. Etc.</p>
<p>None of the above distresses me, though. Those of us who identify as cypherpunks or simply people who dislike surveillance are in a better spot than before. Every week, we learn a bit more about how government surveillance works, and we adjust our tactics accordingly. Pull, push, merge.</p>
<p>The part that I am truly, deeply, unapologetically terrified of is that we‚Äôll step away from our laptops, take a look at American society as a whole, and find that almost nobody cares.</p>
<p>I‚Äôve had this fear in some form or another for a decade. In 2006, I was 15, rather cynical, and planning to drop out of public school in inner-city Saint Louis. I wanted generational identity instead of Facebook wall posts, protests instead of biweekly third-period Home Economics. There was nothing I despised more than apathy.</p>
<p>That year, I purchased the first book I ever bought for myself. It was <em>Amusing Ourselves to Death</em>, an ever-relevant work of nonfiction written by Neil Postman in 1985. The foreword has a stunningly prophetic passage that, like a boomerang, swings out of the far blue distance and dares us to duck fast:</p>
<blockquote>
<p>¬†. . . we had forgotten that alongside Orwell‚Äôs dark vision, there was another- slightly older, slightly less well known, equally chilling: Aldous Huxley‚Äôs ‚ÄúBrave New World.‚Äù Contrary to common belief even among the educated, Huxley and Orwell did not prophesy the same thing. Orwell warns that we will be overcome by an externally imposed oppression. But in Huxley‚Äôs vision, no Big Brother is required to deprive people of their autonomy, maturity and history. As he saw it, people will come to love their oppression, to adore the technologies that undo their capacities to think.</p>
</blockquote>
<p>Postman, in painful detail, considered the possibility that Huxley, not Orwell, was right. Nonetheless, nobody really wants to talk about Huxley. Orwellian surveillance is, in a certain light, a sexy thing to fight against. The apathy of the average person who spends 4 hours per day watching reality TV is not. For most of us, it‚Äôs much more fun to hack on Tor than to explain to a grocery store cashier why they should support free software projects that are far less usable than Dropbox.</p>
<p>My fear is that outside of the technological elite, convenience will perpetually win over privacy. I‚Äôm afraid that if staying alive in the war against surveillance relies on winning the war against apathy, Cypherpunks 2.0 is moving forward in the wrong direction.</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/memphis-haiku-collection/">Memphis Haiku Collection</a></h1>
        <span class="post-date">Oct 12, 2013</span>
        <p>Tonight I found a collection of stupendously precocious (lolol) poems I wrote on a trip to Memphis at age 13. Here they are, untouched, in all their prematurely cynical glory:</p>
<blockquote>
<p>I‚Äôm going to Hell</p>
</blockquote>
<blockquote>
<p>I mean Memphis, in two hours</p>
</blockquote>
<blockquote>
<p>Do not raid my house.</p>
<p>If I don‚Äôt return</p>
</blockquote>
<blockquote>
<p>Do not mope like Charlie Brown</p>
</blockquote>
<blockquote>
<p>You‚Äôre not in my will.</p>
<p>I gave my pet bird</p>
</blockquote>
<blockquote>
<p>To some short college student</p>
</blockquote>
<blockquote>
<p>With lots of birdseed.</p>
<p>My root beer is flat</p>
</blockquote>
<blockquote>
<p>I must have left it too long</p>
</blockquote>
<blockquote>
<p>Is this relevant?</p>
<p>We are carpooling</p>
</blockquote>
<blockquote>
<p>With some friend of my father‚Äôs</p>
</blockquote>
<blockquote>
<p>Hope he pays for gas.</p>
<p>Going to find Elvis</p>
</blockquote>
<blockquote>
<p>Because Lauren told me to</p>
</blockquote>
<blockquote>
<p>Even though he‚Äôs dead.</p>
<p>Auditorium</p>
</blockquote>
<blockquote>
<p>The word has five sylables</p>
</blockquote>
<blockquote>
<p>I didn‚Äôt spell that right.</p>
<p>The smoky mountains</p>
</blockquote>
<blockquote>
<p>Because only you can stop</p>
</blockquote>
<blockquote>
<p>Those big forest fires.</p>
<p>At Holiday Inn</p>
</blockquote>
<blockquote>
<p>They give you little bottles</p>
</blockquote>
<blockquote>
<p>Of lousy shampoo.</p>
<p>Someone tell Kathy</p>
</blockquote>
<blockquote>
<p>Of the YMCA band</p>
</blockquote>
<blockquote>
<p>I can‚Äôt audition.</p>
<p>Chinese food is good</p>
</blockquote>
<blockquote>
<p>Especially the sushi</p>
</blockquote>
<blockquote>
<p>Wait, that‚Äôs Japanese.</p>
<p>They had a nurse shark</p>
</blockquote>
<blockquote>
<p>But everyone thought it was a</p>
</blockquote>
<blockquote>
<p>Mutant catfish.</p>
<p>Sushi bars are good</p>
</blockquote>
<blockquote>
<p>And so is the free soy sauce there</p>
</blockquote>
<blockquote>
<p>I spilled a bottle.</p>
<p>Graceland was real big</p>
</blockquote>
<blockquote>
<p>But the tour guides were real dumb</p>
</blockquote>
<blockquote>
<p>That‚Äôs why I got lost.</p>
<p>I did meet Elvis</p>
</blockquote>
<blockquote>
<p>He was at his old garden</p>
</blockquote>
<blockquote>
<p>Deep under the ground.</p>
<p>His airplane‚Äôs inside</p>
</blockquote>
<blockquote>
<p>Was covered in plastic wrap</p>
</blockquote>
<blockquote>
<p>Must have been itchy.</p>
<p>He had many suits</p>
</blockquote>
<blockquote>
<p>All colors, jeweled and sequined</p>
</blockquote>
<blockquote>
<p>Now worn by dummies.</p>
<p>The gift shop was cool</p>
</blockquote>
<blockquote>
<p>A nice place to be until</p>
</blockquote>
<blockquote>
<p>You saw the price tags.</p>
<p>I bought a milk-shake</p>
</blockquote>
<blockquote>
<p>It had lots of iced vanilla</p>
</blockquote>
<blockquote>
<p>My brain is frozen.</p>
<p>The hotel forgets</p>
</blockquote>
<blockquote>
<p>To give me a bed at night.</p>
</blockquote>
<blockquote>
<p>Now that is stupid.</p>
<p>I‚Äôd better go now</p>
</blockquote>
<blockquote>
<p>It‚Äôs been great writing these, but</p>
</blockquote>
<blockquote>
<p>The Simpsons is on.</p>
</blockquote>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/tabstash-onetab-for-firefox/">Tabstash: OneTab for Firefox</a></h1>
        <span class="post-date">Oct 2, 2013</span>
        <p>I wrote a Firefox addon one afternoon in France called TabStash. It‚Äôs quite simple: you click a button to close all your tabs except the current one. You click it again to open all of them. (Chrome has a popular extension called <a href="http://one-tab.com">OneTab</a> that does this, but at the time there wasn‚Äôt a Firefox version.)</p>
<p>A couple nights ago, I finally got around to sending it to the Mozilla addon store. It came out yesterday and already has some downloads, to my surprise.</p>
<p>Anyway, you can find it at <a href="https://addons.mozilla.org/en-US/firefox/addon/tabstash/">https://addons.mozilla.org/en-US/firefox/addon/tabstash/</a>.</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/on-artificially-bounded-futures/">On artificially-bounded futures</a></h1>
        <span class="post-date">Oct 1, 2013</span>
        <p>I flew back to MIT recently for the GNU 30th Anniversary Celebration and Hackathon, thanks to a generous travel scholarship from the Free Software Foundation. All I had to do was never, ever run any proprietary javascript in my browser and something something something about firstborns. Seemed like a net win.</p>
<p>The hackathon itself was fun. I spent most of it teaching people about privacy-enhancing tools like GnuPG and realizing that privacy-enhancing tools are intimidating, even to MIT computer science PhD students. Bad user interfaces are astonishingly powerful, and nothing cripples the human spirit like a poorly-written manpage.</p>
<p>I also gave a short talk to about ~30 undergrads titled, ‚ÄúThings you should be afraid of that you probably didn‚Äôt know about.‚Äù The alternate title was, ‚ÄúUseful self-preservation tactics in surveillance states.‚Äù The alternate alternate title was, ‚ÄúOn the possibility of preserving student culture at MIT.‚Äù I admit I was trying to get more people to show up on a Friday night.</p>
<p>The problem was that, after an unexpected adventure in NYC the day before followed by an untimely laptop battery failure, I had barely twenty minutes to prep for the talk. So I went for a short run around the Charles River and formulated some thoughts. They went something like:</p>
<ol>
<li>Surveillance is bad. Do MIT undergrads care? Or are they still trying to implement metacircular evaluators in Scheme?</li>
<li>DO NOT LET PEOPLE GIVE INTO CRYPTO-NIHILISM. Show them that we can only fight what we know.</li>
<li>Privacy, if it actually exists, must belong to a community. Privacy that belongs to individuals is necessary but not sufficient.</li>
<li>Ethical choices are painful and often ambiguous. Say you‚Äôre the CEO of a company that makes a groundbreaking app that reduces vehicle emissions by 90% in the US. In order to do so, you need to collect data on where everyone‚Äôs cars are located at all times. Then one day the government puts you in a <a href="https://en.wikipedia.org/wiki/Qwest">position</a> where your choices are to either (secretly) give them years and years of private user data or let the company shut down (and lose all your money). What do you do?</li>
<li>Imagine if the MIT administration wiretapped all student communications on the Internet and forced every mailing list to contain an administrator. Imagine the student response. Now imagine the same situation at the national scale. This is a useful exercise to brainstorm realistic ways of fighting problems that seem too large and abstract for us to think about at first (ex: mass unchecked government surveillance).</li>
</ol>
<p>To my surprise, the talk went over rather well. People asked lots of excellent questions, like what kind of tinfoil hat to buy. Phew.</p>
<p>Another thing that has come up a lot on this trip is the idea of having a career. As much as I feel uncomfortable about it sometimes, I can‚Äôt help but admit that the topic of What To Do In Life has been on my mind lately. The annual MIT Career Fair was a week ago, a bizarre anti-celebratory festival during the first week of classes where hundreds of companies try to recruit students by giving them free Rubix cubes. This year, one courageous sophomore wrote an <a href="http://tech.mit.edu/V133/N39/ogrady.html">opinion article</a> in the school newspaper about how  <span class="userContent">the Career Fair is useless for inspiring faith in the student population‚Äôs ability to give a fuck about problems other than making cool-but-also-profitable<span class="text_exposed_show"> technology and making hella cash.</span></span></p>
<p>Obviously this is a thorny issue wrapped in questions of whether the author has properly normalized for her own privilege (she probably has) and if large tech companies like FB/Apple/Google are already doing the maximal amount of good for humanity that they can while remaining profitable (they probably aren‚Äôt), BUT it was still surprising that most critical comments essentially said: ‚ÄúStop looking down on other people / some of us need to make a living / not all corporations are completely evil.‚Äù Multiple commenters accused the author of ‚Äúentitlement‚Äù, which seems like a ridiculous term to cast as an insult (aren‚Äôt we all entitled to pursuit of happiness?).</p>
<p>Disliking the percentage of commenters who were unfairly bashing on the author, I wrote an uncharacteristically optimistic comment for someone who doesn‚Äôt have a consistent job:</p>
<blockquote>
<p>This post was entirely justified and necessary. (Minus the fact that Quizlet probably doesn‚Äôt deserve to be on that list, as RJ pointed out.)</p>
<p>A number of the criticizing comments here have argued that companies like Apple and Facebook, on their way to making massive profits, ultimately spawn technologies that do good for the world; furthermore, even MIT students need to support themselves day-to-day regardless of their greater goals. But I think a salient counter-argument is that MIT grads can and absolutely must hold themselves to a higher standard than what these companies represent.</p>
<p>What I am implicitly saying is that (1) there are greater problems that humanity faces than how to get people to trigger certain javascript callbacks that generate ad revenue, and (2) people with the intellect and stamina to lead technological revolutions have a near-moral responsibility to solve these greater problems. The fact is that most MIT graduates can find a job and figure out a way to support themselves in most circumstances, which means they have a rare privilege among young people: the ability to take on great risks and be okay if they fail.</p>
<p>In practice, a dismayingly small percentage of MIT graduates use this privilege for tackling the hardest and most valuable problems of our generation. Climate change is a fine example, given that the lower limit of the time it‚Äôll take for atmospheric methane to collapse the global economy is on the order of <a href="http://www.theguardian.com/environment/2013/jul/24/arctic-thawing-permafrost-climate-change">decades</a>.</p>
<p>Even those of us who work as software engineers and tech CEO‚Äôs usually fail to address the question of whether we are making technology for a world where knowledge is free and accessible to everyone, or a world where governments and corporations can freely intrude on the private communications of every single person. Too often, we generate technology that is groundbreaking and astonishing without conscientiously addressing their potential to destroy civil liberties and strip away basic human rights. We can and must exert more pull over the ethical consequences of our innovation.</p>
<p>It is absolutely our moral responsibility to try to make the world we want to live in.</p>
</blockquote>
<p>I really hope I didn‚Äôt make all of that up.</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/some-thoughts-on-the-nsa-and-elliptic-curve-cryptography/">Some thoughts on the NSA and elliptic curve cryptography</a></h1>
        <span class="post-date">Sep 13, 2013</span>
        <p>Below is an amalgamation of some posts that I made recently on a popular microblogging platform:</p>
<p>========</p>
<p><span class="userContent">I‚Äôve been reading a lot today about what I believe is a super-likely NSA backdoor into modern cryptosystems.</span></p>
<p>There are these things called elliptic curves that are getting used more and more for key generation in cryptography, especially <span class="text_exposed_show">in forward-secrecy-enabled SSL (which is the EFF-recommended way to secure web traffic). The problem is that the choice of parameters for the elliptic curves most used in practice are set by NIST, and we know for sure that the NSA has some influence on NIST standards.</span></p>
<p>In 2006, NIST published an algorithm for elliptic-curve based random number generation that was shown to be easily breakable but ONLY by whoever chose the elliptic curve parameters. Luckily this algorithm was crazy slow so nobody used it, even though it was the (only?) NIST-recommended way of generating random bits with elliptic curves.</p>
<p>But it turns out there are some <a href="https://eprint.iacr.org/2003/058.pdf">relatively-obscure papers</a> that suggest that you can gain a decent cryptographic advantage by picking the elliptic curve parameters! [Edit: It was later <a href="http://www.scottaaronson.com/blog/?p=1517#comment-87087">pointed out</a> to me that this particular attack is not close to anything <span class="userContent"><span class="text_exposed_show">the NSA could be doing right now, for various reasons. It is of course unclear whether they have knowledge of other elliptic curve parameter-based attacks that are not in the academic literature.]</span></span></p>
<p>This is terrifying, because the elliptic curve parameters chosen for relatively-mysterious reasons by NIST (probably via NSA) are used by Google, OpenSSL, and any RFC-compliant implementation of elliptic curves in OpenPGP (gnupg-ecc, for instance).</p>
<p><span class="userContent"><span class="text_exposed_show">==========</span></span></p>
<p><span class="userContent">Some people might be wondering if they can trust companies who issue statements that their closed-source software products don‚Äôt contain NSA backdoors (Microsoft, Google, Apple, etc.). Here is an example of why not.</span></p>
<p>It has been known since <span class="text_exposed_show">2006 that Dual EC DRBG (a NIST-standardized random bit generation algorithm) has a major vulnerability that makes no sense except as an NSA backdoor. Essentially, the algorithm contains some constant parameters that are left unexplained; some researchers then showed that whoever determined these parameters could easily predict the output of the algorithm if they had access to a special set of secret numbers (analogous to an RSA private key). This is a beautiful design for a crytographic backdoor, because the secret numbers are difficult to find except by the person who set the constant parameters in the algorithm.</span></p>
<p>Despite being slower than other random bit generators, Dual EC DRBG is implemented in a bunch of software products by major companies like RSA Security, Microsoft, Cisco, BlackBerry, McAfee, Certicom, and Samsung. For a full list, see: <a href="http://csrc.nist.gov/groups/STM/cavp/documents/drbg/drbgval.html" target="_blank" rel="nofollow nofollow"><a href="http://csrc.nist.gov/groups/STM/cavp/documents/drbg/drbgval.html">http://csrc.nist.gov/groups/STM/cavp/documents/drbg/drbgval.html</a></a></p>
<p>Most of these products are closed-source, so you can‚Äôt check whether your encryption keys are being generated with Dual EC DRBG.</p>
<p>This is a pretty strong argument that secure software is necessarily open source software.</p>
<p><span class="userContent"><span class="text_exposed_show">========<br /> </span></span></p>
<p><span class="userContent"><span class="text_exposed_show">Additional citations:</span></span></p>
<p><span data-ft="{&quot;tn&quot;:&quot;K&quot;}" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2]"><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0]"><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[3]">Bruce Schneier on the 2006 backdoor discovery in Dual_EC_DRBG: </span><a href="https://www.schneier.com/blog/archives/2007/11/the_strange_sto.html" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[4]"><a href="https://www.schneier.com/&amp;#8230;/2007/11/the_strange_sto.html">https://www.schneier.com/&amp;#8230;/2007/11/the_strange_sto.html</a></a><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[6]" /><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[7]" /><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[8]">Google‚Äôs blog post announcing SSL w/ forward secrecy, specifically mentioning that they use the P-256 curve: </span><a href="https://www.imperialviolet.org/2011/11/22/forwardsecret.html" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[9]"><a href="https://www.imperialviolet.org/2011/11/22/forwardsecret.html">https://www.imperialviolet.org/2011/11/22/forwardsecret.html</a></a><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[10]" /><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[11]" /><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[12]">Wiki section on NIST-recommended curves: </span><a href="https://en.wikipedia.org/wiki/Elliptic_curve_cryptography#NIST-recommended_elliptic_curves" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[13]"><a href="https://en.wikipedia.org/wiki/Elliptic_curve_cryptography&amp;#8230;">https://en.wikipedia.org/wiki/Elliptic_curve_cryptography&amp;#8230;</a></a><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[14]" /><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[15]" /><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[16]">RFC section stating that P-256 is REQUIRED for ecc in openpgp: </span><a href="http://tools.ietf.org/html/rfc6637#section-12.1" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[17]"><a href="http://tools.ietf.org/html/rfc6637#section-12.1">http://tools.ietf.org/html/rfc6637#section-12.1</a></a><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[18]" /><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[19]" /><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[20]">Description of elliptic curve usage in OpenSSL: </span><a href="http://wiki.openssl.org/index.php/Elliptic_Curve_Cryptography" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[21]"><a href="http://wiki.openssl.org/&amp;#8230;/Elliptic_Curve_Cryptography">http://wiki.openssl.org/&amp;#8230;/Elliptic_Curve_Cryptography</a></a><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[22]" /><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[23]" /><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[24]">Presentation on security dangers of NIST curves: </span><a href="http://cr.yp.to/talks/2013.05.31/slides-dan+tanja-20130531-4x3.pdf" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[25]"><a href="http://cr.yp.to/&amp;#8230;/slides-dan+tanja-20130531-4&amp;#215;3.pdf">http://cr.yp.to/&amp;#8230;/slides-dan+tanja-20130531-4&amp;#215;3.pdf</a></a><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[26]" /><br data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[27]" /><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[28]">NSA page recommending you use elliptic curves lol: </span><a href="http://www.nsa.gov/business/programs/elliptic_curve.shtml" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[29]"><a href="http://www.nsa.gov/business/programs/elliptic_curve.shtml">http://www.nsa.gov/business/programs/elliptic_curve.shtml</a></a></span></span></p>
<p><span data-ft="{&quot;tn&quot;:&quot;K&quot;}" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2]"><span data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0]"><a href="http://www.nsa.gov/business/programs/elliptic_curve.shtml" target="_blank" rel="nofollow" data-reactid=".r[3ztcq].[1][4][1]{comment10200823098442317_5008296}.[0].{right}.[0].{left}.[0].[0].[0][2].[0].[29]">¬†</a></span></span><span class="userContent"><span class="text_exposed_show">========</span></span></p>
<p><span class="userContent"><span class="text_exposed_show">UPDATE (9/23/13): RSA security has issued an advisory to stop using some of their products where DUAL_EC_DRBG is the default random number generator (<a href="http://arstechnica.com/security/2013/09/stop-using-nsa-influence-code-in-our-product-rsa-tells-customers/)">http://arstechnica.com/security/2013/09/stop-using-nsa-influence-code-in-our-product-rsa-tells-customers/)</a>. Matthew Green also made an excellent blog post about this topic over at <a href="http://blog.cryptographyengineering.com/2013/09/the-many-flaws-of-dualecdrbg.html">http://blog.cryptographyengineering.com/2013/09/the-many-flaws-of-dualecdrbg.html</a>.<br /> </span></span></p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/some-favorite-git-commands/">Some favorite git commands</a></h1>
        <span class="post-date">Sep 2, 2013</span>
        <p>Working on HTTPS Everywhere, an open source project with dozens of contributors, has sharpened my git vocabulary immensely. I figured I‚Äôd list a few lesser-known commands that I like:</p>
<ul>
<li><em>git log</em> _<em>-pretty=oneline -n<number> ‚Äìabbrev-commit</em> -G<regex>_: This shows the <number> latest commits in oneline format with shortened commit hashes that added or removed lines matching <regex>. The git pickaxe options (-S, -G) are super useful for searching git commit contents instead of just the commit messages.</li>
<li><em>git checkout <branch> &lt;path/to/file&gt;; git reset; git add -p; git commit</em>: This is almost always less preferable to <em>git cherry-pick</em>, but it is useful when you want only certain hunks of commits to certain files in <branch>. <em>git checkout</em> copies the file from the other branch into the current branch and stages the changes for commit. <em>git reset</em> unstages them so we can select the parts we want to add to our branch on a hunk-by-hunk basis using <em>git add -p</em>. Unfortunately this doesn‚Äôt preserve authorship of the changes from <branch>.</li>
<li>git update hooks: We decided that it would be great if the HTTPS Everywhere git server could automatically reject commits that broke the build. It turns out that this is possible using a server-side git update hook, which runs just before updating the refs on the git server. The strategy is to create a temporary copy of the remote with the newly pushed changes, do a test build, and reject the changes if the build fails. See <a href="https://github.com/diracdeltas/https-everywhere/blob/master/hooks/update">here</a> for an example of this in HTTPS Everywhere adapted from a Stack Overflow answer.</li>
</ul>
<p>More to come!</p>

    </div>
  
    <div class="post">
        <h1 class="post-title"><a href="https://blog.azuki.vip/https-everywhere-3-3-is-out/">HTTPS Everywhere 3.3 is out!</a></h1>
        <span class="post-date">Jul 27, 2013</span>
        <p>Quick update to mention that a new version of the <a href="https://www.eff.org/https-everywhere">browser extension</a> I‚Äôve been helping with this summer has just been released!</p>
<p>This release was spurred by the impending arrival of Firefox 23, which notably has <a href="https://blog.mozilla.org/tanvi/2013/04/10/mixed-content-blocking-enabled-in-firefox-23/">Mixed Active Content Blocking enabled by default</a>. In summary, this means that scripts loaded via HTTP on an otherwise-HTTPS site will be blocked automatically for security reasons. Although this is good news in general, it would have suddenly caused HTTPS Everywhere to become <a href="https://trac.torproject.org/projects/tor/ticket/9196">way less usable</a>.</p>
<p><a href="https://www.eff.org/about/staff/micah-lee">Micah</a> at the EFF did tons of work on this one to make sure that mixed content rules in HTTPS Everywhere wouldn‚Äôt break a massive number of websites for FF23 users, while I implemented the UI to alert users to the fact that they would have to re-input any custom preferences once they updated to 3.3 (unfortunately). I also ended up fixing a previously-undiscovered bug along the way that prevented the HTTPS Everywhere tool-tip from showing up when users install the extension.</p>
<p>It‚Äôs kind of sad that the tool-tip didn‚Äôt show up for most people before. Did you know that you can disable HTTPS Everywhere rules by clicking on the toolbar icon? This is very handy when certain rules cause a site to break for some reason.</p>
<p>Anyway, happy upgrading!</p>

    </div>
  
</div>

<div class="pagination">
  
  <a class="pagination-item older" href="https://blog.azuki.vip/page/6/">Older</a>
  

  
  <a class="pagination-item newer" href="https://blog.azuki.vip/page/4/">Newer</a>
  
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    
  </body>
</html>

